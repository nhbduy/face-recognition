(this["webpackJsonpface-recognition"]=this["webpackJsonpface-recognition"]||[]).push([[0],{33:function(e,a){e.exports="data:image/png;base64,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"},34:function(e,a,t){e.exports=t(64)},39:function(e,a,t){},40:function(e,a,t){},55:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){},63:function(e,a,t){},64:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(16),l=t.n(c),o=t(15),i=t(3),s=t(29),m=t.n(s),u=(t(39),t(66)),p=t(69),d=t(68),b=t(67),h=(t(40),function(e){var a=e.onRouteChange,t=e.toggleModal,c=Object(n.useState)(!1),l=Object(i.a)(c,2),o=l[0],s=l[1];return r.a.createElement("div",{className:"pa4 tc"},r.a.createElement(u.a,{isOpen:o,toggle:function(){return s(!o)}},r.a.createElement(p.a,{tag:"span","data-toggle":"dropdown","aria-expanded":o},r.a.createElement("img",{src:"http://tachyons.io/img/logo.jpg",className:"br-100 ba h3 w3 dib",alt:"avatar"})),r.a.createElement(d.a,{right:!0,className:"b--transparent shadow-5 dropDownMenu"},r.a.createElement(b.a,{onClick:function(){return t()}},"View Profile"),r.a.createElement(b.a,{onClick:function(){return a("SIGN_OUT")}},"Sign Out"))))}),g=(t(55),function(e){var a=e.isSignedIn,t=e.onRouteChange,n=e.toggleModal,c=r.a.createElement("nav",null,r.a.createElement(h,{onRouteChange:t,toggleModal:n})),l=r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("p",{className:"f3 link dim black underline pa3 pointer",onClick:function(){return t("SIGN_IN")}},"Sign In"),r.a.createElement("p",{className:"f3 link dim black underline pa3 pointer",onClick:function(){return t("SIGN_UP")}},"Register")));return a?c:l}),E="https://nhbduy-face-recognition-server.herokuapp.com",w=function(e){var a=e.loadUser,t=e.onRouteChange,c=Object(n.useState)(null),l=Object(i.a)(c,2),o=l[0],s=l[1],m=Object(n.useState)(null),u=Object(i.a)(m,2),p=u[0],d=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("article",{className:"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("div",{className:"measure"},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f1 fw6 ph0 mh0"},"Sign In"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100 input-hover-black",type:"email",name:"email-address",id:"email-address",onChange:function(e){s(e.target.value)}})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100 input-hover-black",type:"password",name:"password",id:"password",onChange:function(e){d(e.target.value)}}))),r.a.createElement("div",{className:""},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in",onClick:function(){fetch("".concat(E,"/signIn"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:p})}).then((function(e){return e.json()})).then((function(e){200===e.status&&"ok"===e.message&&e.user.id?(a(e.user),t("HOME")):400===e.status&&"ko"===e.message&&console.log("cannot signing in")}))}})),r.a.createElement("div",{className:"lh-copy mt3"},r.a.createElement("p",{className:"f6 link dim black db underline pointer",onClick:function(){return t("SIGN_UP")}},"Sign up"))))))},v=function(e){var a=e.loadUser,t=e.onRouteChange,c=Object(n.useState)(null),l=Object(i.a)(c,2),o=l[0],s=l[1],m=Object(n.useState)(null),u=Object(i.a)(m,2),p=u[0],d=u[1],b=Object(n.useState)(null),h=Object(i.a)(b,2),g=h[0],w=h[1],v=Object(n.useState)(!1),f=Object(i.a)(v,2),N=f[0],k=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("article",{className:"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("div",{className:"measure"},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f1 fw6 ph0 mh0"},"Sign Up"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"name"},"Name"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100 input-hover-black",type:"text",name:"name",id:"name",onChange:function(e){s(e.target.value)}})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},"Email"),r.a.createElement("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100 input-hover-black",type:"email",name:"email-address",id:"email-address",onChange:function(e){d(e.target.value)}})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100 input-hover-black",type:"password",name:"password",id:"password",onChange:function(e){w(e.target.value)}})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"retype-password"},"Re-type Password"),r.a.createElement("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100 input-hover-black",type:"password",name:"retype-password",id:"retype-password",onChange:function(e){e.target.value===g&&k(!0)}}))),r.a.createElement("div",{className:""},r.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Register",onClick:function(){o&&p&&g&&N?fetch("".concat(E,"/register"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,email:p,password:g})}).then((function(e){return e.json()})).then((function(e){e.id&&(a(e),t("HOME"))})):console.log("cannot register!!!")}})),r.a.createElement("div",{className:"lh-copy mt3"},"Already have an account?",r.a.createElement("p",{className:"f6 link dim black db underline pointer",onClick:function(){return t("SIGN_IN")}},"Sign in"))))))},f=t(32),N=t.n(f),k=(t(56),t(33)),j=t.n(k),A=function(){return r.a.createElement("div",{className:"ma4 mt0"},r.a.createElement(N.a,{className:"Tilt br2 shadow-2",options:{max:55},style:{height:150,width:150}},r.a.createElement("div",{className:"Tilt-inner pa3"},r.a.createElement("img",{src:j.a,alt:"logo"}))))},S=function(e){var a=e.user;return r.a.createElement("div",null,r.a.createElement("div",{className:"white f3"},"".concat(a.name,", your current entry count is...")),r.a.createElement("div",{className:"white f1"},"#".concat(a.entries)))},y=(t(57),function(e){var a=e.onInputChange,t=e.onButtonSubmit;return r.a.createElement("div",null,r.a.createElement("p",{className:"f3"},"Some magic here..."),r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"center form pa4 br3 shadow-5"},r.a.createElement("input",{className:"f4 pa2 w-70 center",type:"text",onChange:a}),r.a.createElement("button",{className:"w-30 grow f4 link ph3 pv2 dib white bg-light-blue",onClick:t},"Detect"))))}),O=(t(58),function(e){var a=e.boxes,t=e.imageUrl,n=a.map((function(e){var a=e.leftCol,t=void 0===a?0:a,n=e.topRow,r=void 0===n?0:n,c=e.rightCol,l=void 0===c?0:c,o=e.bottomRow;return{top:r,right:l,bottom:void 0===o?0:o,left:t}}));return r.a.createElement("div",{className:"center ma"},r.a.createElement("div",{className:"absolute mt2"},r.a.createElement("img",{id:"inputImage",src:t,alt:"",width:"500px",height:"auto"}),n.map((function(e){return r.a.createElement("div",{key:e.top,className:"bounding-box",style:e})}))))}),C=(t(59),function(e){var a=e.user,t=e.loadUser,c=(e.isProfileOpen,e.toggleModal),l=Object(n.useState)(a.name),s=Object(i.a)(l,2),m=s[0],u=s[1],p=Object(n.useState)(a.age),d=Object(i.a)(p,2),b=d[0],h=d[1],g=Object(n.useState)(a.pet),w=Object(i.a)(g,2),v=w[0],f=w[1],N=function(e){switch(e.target.name){case"user-name":u(e.target.value);break;case"user-age":h(e.target.value);break;case"user-pet":f(e.target.value);break;default:return}};return r.a.createElement("div",{className:"profile-modal"},r.a.createElement("article",{className:"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center bg-white"},r.a.createElement("main",{className:"pa4 black-80 w-80"},r.a.createElement("img",{src:"http://tachyons.io/img/logo.jpg",className:"h3 w3 dib",alt:"avatar"}),r.a.createElement("h1",null,m),r.a.createElement("h4",null,"Images Submitted: ".concat(a.entries)),r.a.createElement("p",null,"Member since: ".concat(new Date(a.joined).toLocaleDateString())),r.a.createElement("hr",null),r.a.createElement("label",{className:"mt2 fw6",htmlFor:"user-name"},"Name"),r.a.createElement("input",{className:"pa2 ba w-100",placeholder:a.name,type:"text",name:"user-name",id:"name",value:m,onChange:N}),r.a.createElement("label",{className:"mt2 fw6",htmlFor:"user-age"},"Age"),r.a.createElement("input",{className:"pa2 ba w-100",placeholder:a.age,type:"text",name:"user-age",id:"age",value:b,onChange:N}),r.a.createElement("label",{className:"mt2 fw6",htmlFor:"user-pet"},"Pet"),r.a.createElement("input",{className:"pa2 ba w-100",placeholder:a.pet,type:"text",name:"user-pet",id:"pet",value:v,onChange:N}),r.a.createElement("div",{className:"mt4 button-container"},r.a.createElement("button",{className:"b pa2 grow pointer hover-white w-40 bg-light-blue b--black-20",onClick:function(){return e={name:m,age:b,pet:v},void fetch("".concat(E,"/profile/").concat(a.id),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({formInput:e})}).then((function(n){c(),t(Object(o.a)(Object(o.a)({},a),e))})).catch((function(e){return console.error(e)}));var e}},"Save"),r.a.createElement("button",{className:"b pa2 grow pointer w-40 b--black-20",onClick:function(){return c()}},"Cancel"))),r.a.createElement("div",{className:"modal-close",onClick:function(){return c()}},"\xd7")))}),I=(t(60),document.getElementById("modal-root")),U=function(e){var a=e.children,t=Object(n.useState)(document.createElement("div")),r=Object(i.a)(t,2),c=r[0];r[1];return Object(n.useEffect)((function(){return I.appendChild(c),function(){I.removeChild(c)}}),[]),l.a.createPortal(a,c)},R={particles:{number:{value:30,density:{enable:!0,value_area:800}}}},x={id:"",name:"",email:"",entries:0,joined:"",age:"",pet:""};var B=function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),u=s[0],p=s[1],d=Object(n.useState)([]),b=Object(i.a)(d,2),h=b[0],f=b[1],N=Object(n.useState)("SIGN_IN"),k=Object(i.a)(N,2),j=k[0],I=k[1],B=Object(n.useState)(!1),F=Object(i.a)(B,2),T=F[0],G=F[1],M=Object(n.useState)(!1),P=Object(i.a)(M,2),Y=P[0],D=P[1],J=Object(n.useState)(x),V=Object(i.a)(J,2),Q=V[0],L=V[1],K=function(e){var a=e.id,t=e.name,n=e.email,r=e.entries,c=e.joined,l=e.age,o=e.pet;L({id:a,name:t,email:n,entries:r,joined:c,age:l,pet:o})},W=function(e){c(e.target.value)},H=function(){p(t),fetch("".concat(E,"/imageUrl"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:t})}).then((function(e){return e.json()})).then((function(e){var a;fetch("".concat(E,"/image"),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:Q.id})}).then((function(e){return e.json()})).then((function(e){return L(Object(o.a)(Object(o.a)({},Q),{},{entries:e}))})).catch(console.error),a=function(e){return e.outputs[0].data.regions.map((function(e){var a=e.region_info.bounding_box,t=document.getElementById("inputImage"),n=Number(t.width),r=Number(t.height);return{leftCol:a.left_col*n,topRow:a.top_row*r,rightCol:n-a.right_col*n,bottomRow:r-a.bottom_row*r}}))}(e),f(a)})).catch((function(e){return console.error(e)}))},Z=function(e){"SIGN_OUT"===e?(c(""),p(""),f([]),I("SIGN_IN"),G(!1),L(x)):"HOME"===e&&G(!0),I(e)},q=function(){D(!Y)};return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{className:"particles",params:R}),r.a.createElement(g,{isSignedIn:T,onRouteChange:Z,toggleModal:q}),Y&&r.a.createElement(U,null,r.a.createElement(C,{user:Q,loadUser:K,isProfileOpen:Y,toggleModal:q})),"HOME"===j?r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement(S,{user:Q}),r.a.createElement(y,{onInputChange:W,onButtonSubmit:H}),r.a.createElement(O,{boxes:h,imageUrl:u})):"SIGN_IN"===j||"SIGN_OUT"===j?r.a.createElement(w,{loadUser:K,onRouteChange:Z}):"SIGN_UP"===j?r.a.createElement(v,{loadUser:K,onRouteChange:Z}):void 0)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(61),t(62),t(63);l.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.b0a37b30.chunk.js.map